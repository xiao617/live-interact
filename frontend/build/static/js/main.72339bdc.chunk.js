(this["webpackJsonplive-interact"]=this["webpackJsonplive-interact"]||[]).push([[0],{186:function(e,t,n){},279:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(25),s=n.n(r),i=(n(186),n(60)),o=n(16),u=n.n(o),j=n(26);function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((function(t){return setTimeout((function(){return t({data:e})}),500)}))}var d=Object(i.b)("counter/fetchCount",function(){var e=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),b=Object(i.c)({name:"counter",initialState:{value:0,status:"idle"},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}},extraReducers:function(e){e.addCase(d.pending,(function(e){e.status="loading"})).addCase(d.fulfilled,(function(e,t){e.status="idle",e.value+=t.payload}))}}),h=b.actions,p=(h.increment,h.decrement,h.incrementByAmount,b.reducer),O=Object(i.c)({name:"user",initialState:{name:"",id:"",score:0,status:"visitor"},reducers:{userLogin:function(e,t){var n;e.id=null!==(n=t.payload._id)&&void 0!==n?n:"",e.name=t.payload.name,e.status="user",e.score=0},getUser:function(e){return{id:e.id,name:e.name,status:e.status,score:e.score}}}}),x=O.actions,m=x.userLogin,f=(x.getUser,function(e){return e.user}),v=O.reducer,g=Object(i.a)({reducer:{counter:p,user:v}}),y=n(81);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var w=n(27),k=(n(87),n(282)),I=n(138),C=n(285),S=n(75),q=n(44),A=n(283),R=n(43),z=n(284),H=function(){return Object(y.b)()},N=y.c,L=n(290),T=n(160),E=n(161),B=n(73),F=n.n(B),Q=function(){function e(){Object(T.a)(this,e)}return Object(E.a)(e,[{key:"postUser",value:function(){var e=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.post("/v1/login",{name:t,status:"user",score:0});case 2:return n=e.sent,console.log(n.data.user),e.abrupt("return",n.data.user);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"postRoom",value:function(){var e=Object(j.a)(u.a.mark((function e(t,n){var c,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=this.getRandomKey(8),e.next=3,F.a.post("/v1/rooms",{owner:n.id,roomId:c,questions:t});case 3:return a=e.sent,e.abrupt("return",a.data.room);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getRoom",value:function(){var e=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("/v1/rooms/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data.rooms);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllOwnRooms",value:function(){var e=Object(j.a)(u.a.mark((function e(t){var n,c,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=null!==(n=t.id)&&void 0!==n?n:"",e.next=3,F.a.get("/v1/owner-rooms/".concat(c));case 3:return a=e.sent,e.abrupt("return",a.data.rooms);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateRoom",value:function(){var e=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._id,e.next=3,F.a.put("/v1/rooms/".concat(n),{questions:t.questions,_id:n,roomId:t.roomId,owner:t.owner});case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRandomKey",value:function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n="",c=0;c<e;c++)n+=t.charAt(Math.floor(Math.random()*t.length));return n}}]),e}(),U=n(33),M=n(6);n(124);var P=n(24),W=n(139),G=n(287);var J=n(137),K=n(286),_=n(288);var D=n(289);s.a.render(Object(M.jsx)(a.a.StrictMode,{children:Object(M.jsx)(y.a,{store:g,children:Object(M.jsx)(U.a,{children:Object(M.jsxs)(P.c,{children:[Object(M.jsx)(P.a,{exact:!0,path:"/",component:function(){var e=H(),t=N(f),n=k.a.Header,a=k.a.Content,r=k.a.Footer,s=Object(c.useState)(!1),i=Object(w.a)(s,2),o=i[0],l=i[1],d=Object(c.useState)(""),b=Object(w.a)(d,2),h=b[0],p=b[1],O=Object(c.useState)(""),x=Object(w.a)(O,2),v=x[0],g=x[1],y=new Q;function T(){return E.apply(this,arguments)}function E(){return(E=Object(j.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l(!1),t.next=3,y.postUser(h).then((function(t){return e(m(t))}));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(c.useEffect)((function(){"visitor"===t.status&&l(!0)}),[]),Object(M.jsxs)(k.a,{children:[Object(M.jsxs)(n,{style:{position:"fixed",zIndex:1,width:"100%"},children:[Object(M.jsx)("div",{className:"logo"}),Object(M.jsxs)(I.a,{theme:"dark",mode:"horizontal",children:[Object(M.jsx)(I.a.Item,{children:t.name},"1"),Object(M.jsx)(U.b,{to:{pathname:"/dashboard"},children:Object(M.jsx)(I.a.Item,{children:"\u500b\u4eba\u7e3d\u89bd"},"2")})]})]}),Object(M.jsxs)(a,{className:"site-layout",style:{padding:"0 50px",marginTop:64},children:[Object(M.jsxs)(C.a,{style:{margin:"16px 0"},children:[Object(M.jsx)(C.a.Item,{children:"Home"}),Object(M.jsx)(C.a.Item,{children:"App"})]}),Object(M.jsxs)("div",{className:"site-layout-background",style:{padding:24,minHeight:380},children:[Object(M.jsxs)(S.a,{children:[Object(M.jsx)(q.a,{span:8}),Object(M.jsxs)(q.a,{span:8,children:["Enter Room:",Object(M.jsx)(A.a,{size:"middle",placeholder:"\u8f38\u5165\u4ee3\u865f",onChange:function(e){return g(e.target.value)}}),Object(M.jsx)(U.b,{to:{pathname:"/question-room/"+v},children:Object(M.jsx)(R.a,{children:"Go"})})]}),Object(M.jsx)(q.a,{span:8})]}),Object(M.jsx)("br",{}),Object(M.jsxs)(S.a,{children:[Object(M.jsx)(q.a,{span:8}),Object(M.jsx)(q.a,{span:8,children:Object(M.jsx)(U.b,{to:{pathname:"/create-room"},children:Object(M.jsx)(R.a,{block:!0,children:"Create Room"})})}),Object(M.jsx)(q.a,{span:8})]})]}),Object(M.jsx)(z.a,{title:"Login",visible:o,onCancel:T,footer:[Object(M.jsx)(R.a,{type:"primary",onClick:T,children:"Submit"},"submit")],children:Object(M.jsx)(A.a,{size:"middle",placeholder:"\u8f38\u5165\u59d3\u540d",prefix:Object(M.jsx)(L.a,{}),onChange:function(e){return p(e.target.value)}})})]}),Object(M.jsx)(r,{style:{textAlign:"center"},children:"Live Interact"})]})}}),Object(M.jsx)(P.a,{exact:!0,path:"/create-room",component:function(){H();var e=N(f),t=k.a.Header,n=k.a.Content,a=k.a.Footer,r=Object(c.useState)(!1),s=Object(w.a)(r,2),i=s[0],o=s[1],l=Object(c.useState)(""),d=Object(w.a)(l,2),b=d[0],h=d[1],p=Object(c.useState)([]),O=Object(w.a)(p,2),x=O[0],m=O[1],v=Object(c.useState)(""),g=Object(w.a)(v,2),y=g[0],L=g[1],T=Object(c.useState)(""),E=Object(w.a)(T,2),B=E[0],F=E[1],P=Object(c.useState)([]),J=Object(w.a)(P,2),K=J[0],_=J[1],D=Object(c.useState)(""),V=Object(w.a)(D,2),X=(V[0],V[1],new Q);function Y(){return(Y=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={id:K.length.toString(),option:B,selectedList:[]},e.next=3,_((function(e){return[].concat(Object(W.a)(e),[t])}));case 3:F("");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Z=function(){o(!1)};function $(){return($=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={question:y,choices:K},e.next=3,m((function(e){return[].concat(Object(W.a)(e),[t])}));case 3:_([]),F(""),L("");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(){return(ee=Object(j.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,X.postRoom(x,e);case 2:n=t.sent,h(n.roomId),o(!0),L(""),m([]),_([]),F("");case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var te=function(e){return Object(M.jsx)("div",{children:Object(M.jsx)("p",{children:e.option})})};return Object(c.useEffect)((function(){console.log(e)}),[]),Object(M.jsxs)(k.a,{children:[Object(M.jsxs)(t,{style:{position:"fixed",zIndex:1,width:"100%"},children:[Object(M.jsx)("div",{className:"logo"}),Object(M.jsxs)(I.a,{theme:"dark",mode:"horizontal",children:[Object(M.jsx)(I.a.Item,{children:e.name},"1"),Object(M.jsx)(U.b,{to:{pathname:"/dashboard"},children:Object(M.jsx)(I.a.Item,{children:"\u500b\u4eba\u7e3d\u89bd"},"2")}),Object(M.jsx)(U.b,{to:{pathname:"/"},children:Object(M.jsx)(I.a.Item,{children:"\u9996\u9801"},"3")})]})]}),Object(M.jsxs)(n,{className:"site-layout",style:{padding:"0 50px",marginTop:64},children:[Object(M.jsxs)(C.a,{style:{margin:"16px 0"},children:[Object(M.jsx)(C.a.Item,{children:"Home"}),Object(M.jsx)(C.a.Item,{children:"App"})]}),Object(M.jsx)("div",{className:"site-layout-background",style:{padding:24,minHeight:380},children:Object(M.jsxs)(S.a,{children:[Object(M.jsx)(q.a,{span:6,children:Object(M.jsx)(G.a,{title:"\u5df2\u8a2d\u5b9a\u6e05\u55ae",children:x.map((function(e){return t=e,Object(M.jsx)("div",{children:Object(M.jsx)(G.a,{title:t.question,children:t.choices.map((function(e){return te(e)}))})});var t}))})}),Object(M.jsx)(q.a,{span:3}),Object(M.jsxs)(q.a,{span:12,children:[Object(M.jsxs)(G.a,{title:"\u65b0\u589e\u984c\u76ee",children:[Object(M.jsx)("p",{children:"\u984c\u76ee\u6558\u8ff0\uff1a"}),Object(M.jsx)(A.a,{size:"middle",value:y,onChange:function(e){return L(e.target.value)}}),Object(M.jsx)("br",{}),Object(M.jsx)("br",{}),Object(M.jsx)("p",{children:"\u65b0\u589e\u9078\u9805\uff1a"}),Object(M.jsx)("div",{children:K.map((function(e){return te(e)}))}),Object(M.jsx)(A.a,{size:"middle",value:B,onChange:function(e){return F(e.target.value)}}),Object(M.jsx)(R.a,{onClick:function(){return Y.apply(this,arguments)},children:"\u6dfb\u52a0\u9078\u9805"}),Object(M.jsx)(R.a,{onClick:function(){_([])},children:"\u522a\u9664\u6240\u6709\u9078\u9805"}),Object(M.jsx)(R.a,{onClick:function(){return $.apply(this,arguments)},children:"\u9001\u51fa\u984c\u76ee"})]}),Object(M.jsx)(R.a,{onClick:function(){return ee.apply(this,arguments)},children:"\u9001\u51fa\u6240\u6709\u984c\u76ee\u8a2d\u5b9a"})]}),Object(M.jsx)(q.a,{span:3})]})}),Object(M.jsx)(z.a,{title:"Room ID",visible:i,onCancel:Z,footer:[Object(M.jsx)(R.a,{type:"primary",onClick:Z,children:"Close"},"submit")],children:Object(M.jsx)("h2",{children:b})})]}),Object(M.jsx)(a,{style:{textAlign:"center"},children:"Live Interact"})]})}}),Object(M.jsx)(P.a,{path:"/question-room/:roomId",component:function(){var e=Object(P.f)().roomId,t=(H(),N(f)),n=k.a.Header,a=k.a.Content,r=k.a.Footer,s=J.a.TabPane,i=Object(c.useState)({id:"",option:"",selectedList:[]}),o=Object(w.a)(i,2),l=o[0],d=o[1],b=Object(c.useState)([]),h=Object(w.a)(b,2),p=(h[0],h[1],{roomId:"",questions:[],owner:t.id}),O=Object(c.useState)(p),x=Object(w.a)(O,2),m=x[0],v=x[1],g=Object(c.useState)(!1),y=Object(w.a)(g,2),A=y[0],z=y[1],L=new Q,T=function(e,t){return Object(M.jsx)(K.a,{value:e,disabled:A,children:e.option})};function E(){return(E=Object(j.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.getRoom(e).then((function(e){e.length>0&&v(e[0])}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function B(){return F.apply(this,arguments)}function F(){return(F=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.updateRoom(m);case 2:z(!0);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(){return(W=Object(j.a)(u.a.mark((function e(){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=null!==(n=parseInt(l.id))&&void 0!==n?n:-1,console.log(c),-1!==c&&(m.questions[0].choices[c].selectedList.push(t),v(m)),e.next=5,B();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){console.log(t),console.log(e),function(){E.apply(this,arguments)}()}),[]),Object(M.jsxs)(k.a,{children:[Object(M.jsxs)(n,{style:{position:"fixed",zIndex:1,width:"100%"},children:[Object(M.jsx)("div",{className:"logo"}),Object(M.jsxs)(I.a,{theme:"dark",mode:"horizontal",children:[Object(M.jsx)(I.a.Item,{children:t.name},"1"),Object(M.jsx)(U.b,{to:{pathname:"/dashboard"},children:Object(M.jsx)(I.a.Item,{children:"\u500b\u4eba\u7e3d\u89bd"},"2")}),Object(M.jsx)(U.b,{to:{pathname:"/"},children:Object(M.jsx)(I.a.Item,{children:"\u9996\u9801"},"3")})]})]}),Object(M.jsxs)(a,{className:"site-layout",style:{padding:"0 50px",marginTop:64},children:[Object(M.jsxs)(C.a,{style:{margin:"16px 0"},children:[Object(M.jsx)(C.a.Item,{children:"Home"}),Object(M.jsx)(C.a.Item,{children:"App"})]}),Object(M.jsx)("div",{className:"site-layout-background",style:{padding:24,minHeight:380},children:Object(M.jsxs)(S.a,{children:[Object(M.jsx)(q.a,{span:6}),Object(M.jsx)(q.a,{span:3}),Object(M.jsxs)(q.a,{span:12,children:[Object(M.jsx)(J.a,{children:m.questions.map((function(e,t){return function(e,t){console.log(e);var n="Q".concat(t+1);return Object(M.jsxs)(s,{tab:n,children:[Object(M.jsxs)("h4",{children:["Question: ",e.question]}),Object(M.jsx)(K.a.Group,{onChange:function(e){return d(e.target.value)},children:Object(M.jsx)(_.b,{direction:"vertical",children:e.choices.map((function(e,t){return T(e,t)}))})})]},t)}(e,t)}))}),Object(M.jsx)("br",{}),Object(M.jsx)(R.a,{onClick:function(){return W.apply(this,arguments)},children:"Submit"})]}),Object(M.jsx)(q.a,{span:3})]})})]}),Object(M.jsx)(r,{style:{textAlign:"center"},children:"Live Interact"})]})}}),Object(M.jsx)(P.a,{exact:!0,path:"/dashboard",component:function(){H();var e=N(f),t=Object(c.useState)([]),n=Object(w.a)(t,2),a=n[0],r=n[1],s=k.a.Header,i=k.a.Content,o=k.a.Footer,l=J.a.TabPane,d=new Q;function b(){return(b=Object(j.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.getAllOwnRooms(e).then((function(e){return r(e)}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var h=function(e,t){return Object(M.jsxs)("div",{children:[Object(M.jsxs)("h4",{children:[t+1,") ",e.option]}),Object(M.jsx)("h5",{children:"Who choice this?"}),Object(M.jsx)("div",{children:e.selectedList.map((function(e){return p(e)}))})]})},p=function(e){return Object(M.jsx)(D.a,{children:e.name})};return Object(c.useEffect)((function(){console.log(e),function(){b.apply(this,arguments)}()}),[]),Object(M.jsxs)(k.a,{children:[Object(M.jsxs)(s,{style:{position:"fixed",zIndex:1,width:"100%"},children:[Object(M.jsx)("div",{className:"logo"}),Object(M.jsxs)(I.a,{theme:"dark",mode:"horizontal",children:[Object(M.jsx)(I.a.Item,{children:e.name},"1"),Object(M.jsx)(U.b,{to:{pathname:"/dashboard"},children:Object(M.jsx)(I.a.Item,{children:"\u500b\u4eba\u7e3d\u89bd"},"2")}),Object(M.jsx)(U.b,{to:{pathname:"/"},children:Object(M.jsx)(I.a.Item,{children:"\u9996\u9801"},"3")})]})]}),Object(M.jsxs)(i,{className:"site-layout",style:{padding:"0 50px",marginTop:64},children:[Object(M.jsxs)(C.a,{style:{margin:"16px 0"},children:[Object(M.jsx)(C.a.Item,{children:"Home"}),Object(M.jsx)(C.a.Item,{children:"App"})]}),Object(M.jsx)("div",{className:"site-layout-background",style:{padding:24,minHeight:380},children:Object(M.jsxs)(S.a,{children:[Object(M.jsx)(q.a,{span:6}),Object(M.jsx)(q.a,{span:3}),Object(M.jsx)(q.a,{span:12,children:Object(M.jsx)(J.a,{children:a.map((function(e,t){return function(e,t){var n="Q".concat(t);return Object(M.jsxs)(l,{tab:n,children:[Object(M.jsxs)("h2",{children:["Question: ",e.questions[0].question]}),Object(M.jsx)("h3",{children:"Answer:"}),void 0===e.questions?"":e.questions[0].choices.map((function(e,t){return h(e,t)}))]},t)}(e,t)}))})}),Object(M.jsx)(q.a,{span:3})]})})]}),Object(M.jsx)(o,{style:{textAlign:"center"},children:"Live Interact"})]})}})]})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[279,1,2]]]);
//# sourceMappingURL=main.72339bdc.chunk.js.map